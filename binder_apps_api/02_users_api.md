# üìò Binder API UserController Documentation

## Module Base Path
`/api/v1/users/{method}`


## `getRefId`
### –î–æ—Å—Ç—É–ø: `user`

**GET** `/api/v1/users/getRefId`

### –û–ø–∏—Å–∞–Ω–∏–µ:
–ü–æ–ª—É—á–∏—Ç—å —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–π ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∫–æ—Ä–æ—Ç–∫–∏–π ID —Å –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–º ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è).

### –û—Ç–≤–µ—Ç:
- **200 OK**
```json
{
	"ok": true,
	"message": null,
	"data": {
		"ref_id": "00002Ab3f91"
	}
}
```

## `addReferral`
### –î–æ—Å—Ç—É–ø: `public`

**POST** `/api/v1/users/addReferral`

### –û–ø–∏—Å–∞–Ω–∏–µ:
–î–æ–±–∞–≤–∏—Ç—å —Ä–µ—Ñ–µ—Ä–∞–ª–∞.
–ü–µ—Ä–µ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º —Ä–µ—Ñ–µ—Ä–∞–ª–∞ –ø—Ä–∏–≥–ª–ø—à–µ–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω —É–∂–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –≤ –±–∞–∑–µ!
–¢–æ –µ—Å—Ç—å —Å–Ω–∞—á–∞–ª–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –º–µ—Ç–æ–¥ register –∏ –µ—Å–ª–∏ –æ–Ω —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–∏–ª—Å—è, –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –¥–∞–Ω–Ω—ã–π –º–µ—Ç–æ–¥.

### –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:
```json
{
	"email": "test123123@mail.ru",
	"ref_id": "00002Ab3f91"
}
```
`ref_id` - —Ç–æ–∫–µ–Ω —Å –∑–∞—à–∏—Ç—ã–º user id
`email` - –ø–æ—á—Ç–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–Ω–æ–≥–æ –≤–µ–Ω–¥–æ—Ä–∞, –∏—Å–ø–æ–ª—å–∑—É—é—â–∞—è—Å—è –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏, –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ —Å –¥–∞–Ω–Ω—ã–º email –¥–µ–ª–∞–µ—Ç—Å—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è

### –û—Ç–≤–µ—Ç:
- **200 OK**
```json
{
	"ok": true,
	"message": "Referral added",
	"data": {
		"parent_user_id": 42,
		"referred_user_id": 45
	}
}
```
`parent_user_id` - id —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
`referred_user_id` - id –ø—Ä–∏–≥–ª–∞—à–µ–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
–≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –ø—Ä–æ—Å—Ç–æ –¥–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏–ª–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏


## `getAllReferrals`
### –î–æ—Å—Ç—É–ø: `user`

**GET** `/api/v1/users/getAllReferrals`

### –û–ø–∏—Å–∞–Ω–∏–µ:
–ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –∏—Ö –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞


### –û—Ç–≤–µ—Ç:
- **200 OK**
```json
{
	"ok": true,
	"message": "Referrals received",
	"data": {
		"referrals": [
			{
				"email": "kravcov11@yandex.ru",
				"is_verified": "1",
				"dt_ins": "2025-09-15 19:08:32",
				"enable": "1"
			},
			{
				"email": "97394@powerscrews.com",
				"is_verified": "0",
				"dt_ins": "2025-09-16 06:30:58",
				"enable": "1"
			}
		],
		"referrals_count": 2
	}
}
```
`referrals` - –º–∞—Å—Å–∏–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–µ —è–≤–ª—è—é—Ç—Å—è —Ä–µ—Ñ–µ—Ä–∞–ª–∞–º–∏ —Ç–µ–∫—É—à–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\
	`email` - email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∫–æ—Ç–æ—Ä—ã–π —è–≤–ª—è–µ—Ç—Å—è —Ä–µ—Ñ–µ—Ä–∞–ª–æ–º —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\
	`is_verified` - –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞ –ª–∏ –ø–æ—á—Ç–∞\
	`dt_ins` - –¥–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏\
	`enable` - —Å—Ç–∞—Ç—É—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\
> –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤ –≤–µ—Ä–Ω–µ—Ç—Å—è —É—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç, –Ω–æ –º–∞—Å—Å–∏–≤ `referrals` –±—É–¥–µ—Ç –ø—É—Å—Ç–æ–π –∏ `referrals_count` –±—É–¥–µ—Ç —Ä–∞–≤–µ–Ω 0
> –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –ø–æ —Å–æ–≤–æ–∫—É–ø–Ω–æ—Å—Ç–∏ `is_verified` –∏ `enable`


## `getContact`
### –î–æ—Å—Ç—É–ø: `user`

**GET** `/api/v1/users/getContact`

### –û–ø–∏—Å–∞–Ω–∏–µ:
–ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª—É—á–∞–µ—Ç –∫–æ–Ω—Ç–∞–∫—Ç–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, –µ—Å–ª–∏ –æ–Ω–∞ –µ—Å—Ç—å.

### –û—Ç–≤–µ—Ç:
- **200 OK**
```json
{
	"ok": true,
	"message": "User contact",
	"data": {
		"phone": "79909009090",
		"contact_preferred_channels": [
			"call",
			"telegram"
		]
	}
}
```
`phone` - –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ —á–∏—Å–ª–æ–≤–æ–º –≤–∏–¥–µ, –¥–∞–∂–µ –µ—Å–ª–∏ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —Ñ–æ—Ä–º–∞—Ç –±—ã–ª –∏–Ω—ã–º



## `saveContact`
### –î–æ—Å—Ç—É–ø: `user`

**POST** `/api/v1/users/saveContact`

### –û–ø–∏—Å–∞–Ω–∏–µ:
–°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω –∏ –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ–º—ã–µ –∫–∞–Ω–∞–ª—ã —Å–≤—è–∑–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

### –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:
```json
{
	"phone": "+7(892)6807892",
	"contact_preferred_channels": ["call"]
}
```
`phone` - —Ç–µ–ª–µ—Ñ–æ–Ω –≤ –ª—é–±–æ–º —Ñ–æ—Ä–º–∞—Ç–µ (–¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –±—É–¥–µ—Ç –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ —á–∏—Å–ª–æ–≤–æ–º—É –≤–∏–¥—É)
`contact_preferred_channels` - –º–∞—Å—Å–∏–≤ –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ–º—ã—Ö –∫–∞–Ω–∞–ª–æ–≤ —Å–≤—è–∑–∏ (–±–µ–∑ –∂–µ—Å—Ç–∫–∏—Ö –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤)

### –û—Ç–≤–µ—Ç:
- **200 OK**
```json
{
	"ok": true,
	"message": "User contact saved",
	"data": {
		"phone_update_result": true,
		"preferred_channels_update_result": true
	}
}
```
